define("common/api",["bui/common"],function(c){var d=c("bui/common"),b="prettyprint linenums";window.Ext={data:{JsonP:{}}};var a=d.Component.Controller.extend({renderUI:function(){this._createCallback();this.fetchAPI()},_createCallback:function(){var e=this,f=e.get("name");Ext.data.JsonP[f.replace(/\./ig,"_")]=function(g){e.showApi(g)}},fetchAPI:function(){var e=this,f=e.get("url");$.ajax({url:f,dataType:"jsonp"})},showApi:function(g){var e=this,f=g.html;e.set("content",f);e._appendTables();e.replaceLink();e.hideMembers();e.prettyPrint()},_appendTables:function(){var e=this,g=e.get("tableTpl"),f=e.get("el");$(g).insertAfter(f.find(".members-title"))},replaceLink:function(){var e=this,h=e.get("el"),g=e.get("docsUrl"),f=h.find("a.name");d.each(f,function(k){var j=$(k),i=j.attr("href");j.attr("target","_blank");j.attr("href",g+i)})},hideMembers:function(){var e=this,f=e.get("el"),g=f.find(".private,.protected");g.parents(".not-inherited").hide()},prettyPrint:function(){var e=this.get("el"),f=e.find("pre");f.addClass(b);if(window.prettyPrintEl){f.each(function(g,h){var i=$(h).find("node");$(h).html(i.html());prettyPrintEl(h)})}}},{ATTRS:{data:{},tableTpl:{value:'<table cellspacing="0" class="table table-bordered">          <thead>            <tr>              <th width="242px">\u540d\u79f0</th>              <th>\u7b80\u4ecb</th>            </tr>          </thead>        </table>'},baseUrl:{value:"http://www.builive.com/docs/output/"},docsUrl:{value:"http://www.builive.com/docs"},name:{},url:{getter:function(e){if(!e){return this.get("baseUrl")+this.get("name")+".js"}}}}},{xclass:"api"});return a});
