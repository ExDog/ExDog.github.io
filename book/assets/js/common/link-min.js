define("common/link",["bui/common"],function(c){var f=c("bui/common");var b="page-action",e={"data-id":"id",title:"title","data-href":"href","data-close":"isClose","data-search":"search","data-type":"type"};function d(g){var h={};$.each(g,function(k,i){var j=i.nodeName,l=e[j];if(l){h[l]=i.nodeValue}});return h}var a=function(g){a.superclass.constructor.call(this,g)};a.ATTRS={linkCls:{value:"page-action"}};f.extend(a,f.Base);f.augment(a,{init:function(){this._initEvent()},_initEvent:function(){var h=this,g=h.get("linkCls");if(top.topManager){$(document).delegate("."+g,"click",function(k){var j=k.currentTarget,i=j.attributes,l=d(i);if(!l.type||l.type=="open"){top.topManager.openPage(l);k.preventDefault()}else{if(l.type=="setTitle"){top.topManager.setPageTitle(l.title)}else{k.preventDefault();top.topManager.operatePage(l.id,l.type)}}})}}});return a});
